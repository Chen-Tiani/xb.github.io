"use strict";(self["webpackChunkct"]=self["webpackChunkct"]||[]).push([[482],{482:function(e,t,l){l.r(t),l.d(t,{default:function(){return u}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("el-form",{ref:"ruleForm",staticClass:"ruledemo-Form",attrs:{model:e.ruleForm,disabled:"","label-width":"100px",size:"mini"}},[t("el-form-item",{attrs:{label:"物品名称",prop:"name"}},[t("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),t("el-form-item",{attrs:{label:"物品类型",prop:"type"}},[t("el-select",{attrs:{placeholder:"请选择物品类型"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[t("el-option",{attrs:{label:"书籍",value:"book"}}),t("el-option",{attrs:{label:"数码产品",value:"digital"}})],1)],1),t("el-form-item",{attrs:{label:"物品价格",prop:"price"}},[t("el-input",{model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",t)},expression:"ruleForm.price"}})],1),t("el-form-item",{attrs:{label:"物品图片",prop:"images"}},[t("el-upload",{attrs:{action:e.url,"list-type":"picture-card","on-preview":e.handlePictureCardPreview,"file-list":e.imglist}},[t("i",{staticClass:"el-icon-plus"})]),t("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),t("el-form-item",{attrs:{label:"物品描述",prop:"description"}},[t("div",{staticStyle:{border:"1px solid #ccc"}},[t("Toolbar",{staticStyle:{"border-bottom":"1px solid #ccc"},attrs:{editor:e.editor,defaultConfig:e.toolbarConfig,mode:e.mode}}),t("Editor",{staticStyle:{height:"400px","overflow-y":"hidden"},attrs:{defaultConfig:e.editorConfig,mode:e.mode},on:{onCreated:e.onCreated},model:{value:e.html,callback:function(t){e.html=t},expression:"html"}})],1)])],1),t("el-button",{staticStyle:{"margin-left":"120px"},attrs:{type:"primary"},on:{click:function(t){return e.By()}}},[e._v("立即网购")])],1)},i=[],o=(l(5475),l(6670)),a=l(3289),s={components:{Editor:a.M,Toolbar:a.o},computed:{},data(){return{dialogImageUrl:"",imglist:[],dialogVisible:!1,url:o.Z.upload,ruleForm:{name:"",type:"",price:"",images:[],description:""},editor:null,html:"<p>hello</p>",toolbarConfig:{},editorConfig:{placeholder:"请输入内容..."},mode:"default"}},methods:{onCreated(e){this.editor=Object.seal(e),this.editor.disable()},handlePictureCardPreview(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},By(){let e=this.$route.query.orderid,t=this.ruleForm.price;this.$api.getzfb({orderId:e,price:t}).then((e=>{console.log(e.data),window.location.href=e.data.result}))}},mounted(){let e=this.$route.query.orderid;this.$api.getdetails({orderid:e}).then((e=>{console.log(e.data.data),this.ruleForm=e.data.data[0],this.ruleForm.images=JSON.parse(e.data.data[0].images);for(let t=0;t<this.ruleForm.images.length;t++)this.imglist.push({url:this.ruleForm.images[t]});this.html=this.ruleForm.description}))},beforeDestroy(){const e=this.editor;null!=e&&e.destroy()}},d=s,n=l(8412),m=(0,n.Z)(d,r,i,!1,null,null,null),u=m.exports}}]);
//# sourceMappingURL=482.6d5ce708.js.map